/*
  assert that data is called many times
  assert that end is called eventually

  assert that when stream enters pause state,
  on drain is emitted eventually.
*/

var es = require('..')
var it = require('it-is').style('colour')
var spec = require('stream-spec')

exports['simple stream'] = function (test) {

  var stream = es.through()
  var x = spec(stream).basic().pausable()

  stream.write(1)
  stream.write(1)
  stream.pause()
  stream.write(1)
  stream.resume()
  stream.write(1)
  stream.end(2) //thi